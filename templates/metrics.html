<!DOCTYPE html>
<html>
<head>
    <title>Metrics</title>
    <script>
        function fetchMetrics() {
            fetch('/api/metrics')
                .then(response => response.json())
                .then(data => {
                    const metricsDiv = document.getElementById('metrics');
                    metricsDiv.innerHTML = '';
        
                    if (data && data.cpu_temp !== undefined) {
                        const metricElement = document.createElement('li');
                        metricElement.textContent = `CPU Temp: ${data.cpu_temp}Â°C`;
                        metricsDiv.appendChild(metricElement);
                    } else {
                        const errorElement = document.createElement('li');
                        errorElement.textContent = 'No data available.';
                        metricsDiv.appendChild(errorElement);
                    }
                })
                .catch(error => console.error('Error fetching metrics:', error));
        }
        
        // Fetch metrics every 5 seconds
        setInterval(fetchMetrics, 5000);
        
        // Fetch metrics on page load
        window.onload = fetchMetrics;
        
    </script>
</head>
<body>
    <h1>Metrics</h1>
    <ul id="metrics"></ul>
</body>
</html>
